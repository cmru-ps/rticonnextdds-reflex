<?xml version="1.0"?>
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://community.rti.com/schema/5.2.0/rti_queuing_service.xsd">

    <qos_library name="ReflexQS_Library">
        <qos_profile name="ReflexQS_Profile"
            base_name="BuiltinQosLibExp::Generic.StrictReliable"
            is_default_qos="true">
            <participant_qos>
                <transport_builtin>
                    <mask>UDPv4</mask>
                </transport_builtin>
            </participant_qos>
        </qos_profile>
    </qos_library>

    <queuing_service name="ReflexQS">
        <domain_participant name="DomainParticipant">
            <domain_id>21</domain_id>
            <participant_qos
                base_name="ReflexQS_Library::ReflexQS_Profile" />

            <shared_subscriber name="SharedSubscriber">
                <session_settings>
                    <session name="Session" />
                </session_settings>

                <shared_reader_queue session="Session"
                    name="SharedReaderQueue">
                    <topic_name>Single</topic_name>
                    <type_name>single_member</type_name>

                    <datawriter_qos
                        base_name="ReflexQS_Library::ReflexQS_Profile" />
                    <datareader_qos
                        base_name="ReflexQS_Library::ReflexQS_Profile" />
                    <queue_qos>
                        <resource_limits>
                            <queue_allocation_settings>
                                <max_count>10000</max_count>
                            </queue_allocation_settings>
                        </resource_limits>
                        <distribution>
                            <kind>ROUND_ROBIN</kind>
                            <property>
                                <value>
                                    <element>
                                        <name>UNACKED_THRESHOLD</name>
                                        <value>5</value>
                                    </element>
                                </value>
                            </property>
                        </distribution>
                        <reliability>
                            <app_ack_sample_to_producer>1
                            </app_ack_sample_to_producer>
                        </reliability>
                        <redelivery>
                            <max_delivery_retries>6
                            </max_delivery_retries>
                            <response_timeout>
                                <duration>
                                    <sec>30</sec>
                                    <nanosec>0</nanosec>
                                </duration>
                            </response_timeout>
                        </redelivery>
                    </queue_qos>
                </shared_reader_queue>
            </shared_subscriber>
        </domain_participant>
    </queuing_service>

    </dds>
